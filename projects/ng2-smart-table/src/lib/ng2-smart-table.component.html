<div class="st2-wrapper">
  <ng-container
    *ngIf="!isPagerDisplay; then infiniteScrollTable; else paginationTable">
  </ng-container>
  <ng-template #infiniteScrollTable>
    <cdk-virtual-scroll-viewport itemSize="50" class="example-viewport"
                                 style="height: 100%; width: auto"
    >


      <table [id]="tableId" [ngClass]="tableClass">

        <thead ng2-st-thead *ngIf="!isHideHeader || !isHideSubHeader"
               [grid]="grid"
               [isAllSelected]="isAllSelected"
               [source]="dataSource"
               [createConfirm]="createConfirm"
               (create)="create.emit($event)"
               (selectAllRows)="onSelectAllRows()"
               (sort)="sort()"
               (filter)="filter($event)">
        </thead>


        <tbody ng2-st-tbody [grid]="grid"
               [source]="dataSource"
               [deleteConfirm]="deleteConfirm"
               [editConfirm]="editConfirm"
               [rowClassFunction]="rowClassFunction"
               [isVirtualScrolling]="true"
               (edit)="edit.emit($event)"
               (delete)="delete.emit($event)"
               (custom)="custom.emit($event)"
               (userSelectRow)="onUserSelectRow($event)"
               (editRowSelect)="editRowSelect($event)"
               (multipleSelectRow)="multipleSelectRow($event)"
               (rowHover)="onRowHover($event)">
        </tbody>

      </table>

    </cdk-virtual-scroll-viewport>

  </ng-template>

  <ng-template #paginationTable>
    <div class="pagination-table">

      <table [id]="tableId" [ngClass]="tableClass">

        <thead ng2-st-thead *ngIf="!isHideHeader || !isHideSubHeader"
               [grid]="grid"
               [isAllSelected]="isAllSelected"
               [source]="dataSource"
               [createConfirm]="createConfirm"
               (create)="create.emit($event)"
               (selectAllRows)="onSelectAllRows()"
               (sort)="sort()"
               (filter)="filter($event)">
        </thead>


        <tbody ng2-st-tbody [grid]="grid"
               [source]="dataSource"
               [deleteConfirm]="deleteConfirm"
               [editConfirm]="editConfirm"
               [rowClassFunction]="rowClassFunction"
               [isVirtualScrolling]="false"

               (edit)="edit.emit($event)"
               (delete)="delete.emit($event)"
               (custom)="custom.emit($event)"
               (userSelectRow)="onUserSelectRow($event)"
               (editRowSelect)="editRowSelect($event)"
               (multipleSelectRow)="multipleSelectRow($event)"
               (rowHover)="onRowHover($event)">
        </tbody>

      </table>

      <ng2-smart-table-pager *ngIf="isPagerDisplay"
                             [source]="dataSource"
                             [perPageSelect]="perPageSelect"
                             (changePage)="changePage($event)">
      </ng2-smart-table-pager>

    </div>
  </ng-template>
</div>
